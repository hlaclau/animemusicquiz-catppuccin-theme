/* ==UserStyle==

@name AnimeMusicQuiz Catppuccin Theme

@namespace github.com/hlaclau/animemusicquiz-catppuccin-mocha-theme

@homepageURL https://github.com/hlaclau/animemusicquiz-catppuccin-theme

@version 1.1.0

@updateURL https://github.com/hlaclau/animemusicquiz-catppuccin-theme/raw/master/catppuccin.user.less

@supportURL https://github.com/hlaclau/animemusicquiz-catppuccin-theme/issues

@description Soothing pastel theme for AnimeMusicQuiz

@author hlaclau

@license MIT

@preprocessor less

@var select lightFlavor "Light Flavor" ["latte:Latte*", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha"]

@var select darkFlavor "Dark Flavor" ["latte:Latte", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha*"]

@var select accentColor "Accent" ["rosewater:Rosewater", "flamingo:Flamingo", "pink:Pink", "mauve:Mauve*", "red:Red", "maroon:Maroon", "peach:Peach", "yellow:Yellow", "green:Green", "teal:Teal", "blue:Blue", "sapphire:Sapphire", "sky:Sky", "lavender:Lavender", "subtext0:Gray"]

==/UserStyle== */

@import "https://userstyles.catppuccin.com/lib/lib.less";

@-moz-document url-prefix("https://animemusicquiz.com/") {
  /* This section applies the light/dark themes automatically based on the user's system theme. */
  :root {
    @media (prefers-color-scheme: light) {
      #catppuccin(@lightFlavor);
    }

    @media (prefers-color-scheme: dark) {
      #catppuccin(@darkFlavor);
    }
  }

  #catppuccin(@flavor) {
    #lib.palette();
    #lib.defaults();

    /* CSS Variables for compatibility */
    --dim-factor: 0.6;
    --dim-factor-accent: 0.7;
    --blur-factor: 2rem;

    --catppuccin-bg: @base;
    --catppuccin-bg-transparent: fade(@base, 70%);
    --catppuccin-surface: @mantle;
    --catppuccin-surface-transparent: fade(@mantle, 70%);
    --catppuccin-accent: @accent;
    --catppuccin-accent-transparent: fade(@accent, 70%);
    --catppuccin-accent-dim: fade(@accent, 50%);
    --catppuccin-text: @text;
    --catppuccin-text-alt: @subtext1;
    --catppuccin-text-negative: @base;
    --catppuccin-button-alt: @surface1;
    --full-transparency: transparent;

    /* Login screen */
    #lpInfoContainer {
      background: @base;
    }

    /* Input styling */
    textarea {
      outline: none !important;
    }

    .textAreaContainer,
    .swRightColumnActionButton,
    .mhSettingContainer {
      border: none !important;
    }

    .swal2-input {
      border: solid 2px @accent !important;
    }

    /* Layout fixes */
    #rightMenuBarPartContainer::before {
      left: -218px !important;
    }

    #mainMenuSocailButton {
      width: 267px !important; /* Fix for friendlist not hiding completely */
    }

    #qpInfoHider {
      height: 100% !important; /* Fix for infohider */
    }

    #qpCounterShadowHider {
      padding-top: 4px !important; /* Fix for song counter */
    }

    /* Host accent transparency */
    .lobbyAvatarHostSubTextContainer {
      background: fade(@accent, 70%) !important;
      backdrop-filter: blur(2rem) !important;
    }

    /* Avatar border accent fix */
    #avatarUserImgContainer {
      border-top: @accent !important;
      border-left: @accent !important;
    }

    /* Remove box shadows */
    .menuBarMainButton:hover,
    .btn-primary:hover,
    .rightLeftButtonBottom,
    #lobbyCountLoad {
      box-shadow: none !important;
    }

    /* Add accent box shadows */
    .lbReady .lobbyAvatarImgContainer,
    #qpAnswerInputContainer.focused,
    .qpVoteSkipGlowContainer,
    #mainMenuSocailButton:hover {
      box-shadow: 0 0 10px 2px @accent !important;
    }

    .swTicketRollResultContainer {
      box-shadow: fade(@accent, 50%) 0 0 10px 2px !important;
    }

    #qpAnswerInput.outline-visible {
      box-shadow: 0 0 10px 2px @accent !important;
    }

    /* Background styling */
    #gameContainer,
    #gameChatPage > .col-xs-9,
    #loadingScreen {
      background-image: none;
      background-color: @base;
      animation: bg-change 10s infinite;
    }

    /* Quality menu fix */
    #qpQualityList.show,
    #qpQualityList:hover {
      opacity: 1 !important;
    }

    #qpQualityList.show,
    #qpQualityList {
      opacity: 0;
    }

    /* Currency icon color adjustments */
    .qcTokenIcon {
      filter: hue-rotate(225deg);
    }

    .currencyIcon:not(#currencyTicketIcon) {
      filter: hue-rotate(58deg);
    }

    #currencyTicketIcon,
    .swTicketRollTicketIcon,
    .swTicketRollPrice > img {
      filter: hue-rotate(38deg);
    }

    /* Fully transparent background elements */
    #loadBalanceStatusContainer,
    #socialTab,
    .tabContainer .tab::before,
    #mhQuickSelectContainer > .tab,
    .mhSettingCategory,
    .chatTopBar,
    .chatBoxFooter,
    .chatBox::before,
    #optionsContainer li,
    .menuBar .popOut,
    .flatTextInput[disabled],
    #qpOptionContainerHider,
    #qcHeader,
    .qcProgressBarContainer,
    .qcQuestTypeContainer,
    .ppBadgeContainer,
    .ppPlayerLevelLine,
    .shGameTitleInner,
    .shGameTitleLine,
    .mpDriveEntryName::after,
    .elQuestionSongNameContaniner::after,
    .elQuestionSongArtistContainer::after,
    #elQuestionInputSongName::after,
    #elQuestionInputArtistName::after,
    #swRightColumnBottom,
    #swTicketAvatarLockingPromoContainer::before,
    .swTicketOptionButton,
    .mhctRowItem:nth-child(2n),
    .mhctRow,
    .mhCheckTableContainer,
    .mhLoadEntryName::after,
    .qpAvatarScoreContainer::after {
      background: transparent !important;
      background-color: transparent !important;
      border: none !important;
      box-shadow: none !important;
    }

    /* Accent as background */
    #xpBarInner,
    .menuBarMainButton,
    .slider-handle,
    .slider-selection,
    .slider-tick.in-selection,
    .btn-primary:hover,
    .btn-primary,
    #lobbyCountLoad,
    .switchContainer > .slider-tick-container > .switchOn,
    .switchContainer.active,
    .qpVoteSkip.toggled,
    #qpVideoProgressBar,
    #qpUpvoteContainer.selected,
    #qpDownvoteContainer.selected,
    #qpReportContainer.selected,
    #qpQualityList > li.selected,
    #qpVolumeBarIndicator,
    .qcProgressBar,
    .qcQuestOuter.selected .qcQuestTypeContainer,
    .qpAvatarHostIcon,
    .qpAvatarHiddenIcon,
    #qpAnswerStateContainerInner,
    #swRightColumActionButtonMainContainer,
    .swRightColumnActionButton,
    .swTicketOptionButton.active,
    .swTopBarAvatarImageContainer.selected,
    .swTopBarSkinImageContainer.selected,
    #swRightColumnSkinBonusBar,
    #swRightColumnSkinBonusBar::after,
    #swResonanceProgressBar,
    .boardTab.selected,
    .lbmBoardEntry.self > .lbmStandingNumber,
    .switchContainer > .slider-tick-container > .switchOff,
    .switchContainer > .slider-tick-container > .switchLeft,
    .swal2-confirm,
    .progress-bar {
      background: @accent !important;
      background-color: @accent !important;
    }

    /* Accent as color */
    .customCheckbox label,
    a,
    #qpVolume,
    .awesomplete mark,
    #elQuestionInputState,
    .fa-friend {
      color: @accent !important;
    }

    /* Text color */
    .awesomplete > ul > li:hover,
    .awesomplete > ul > li[aria-selected='true'],
    .swal2-popup .swal2-title {
      color: @text !important;
    }

    /* Background non-transparent elements */
    #mhQuickSelectContainer > .tab,
    .mhSettingCategory,
    .chatTopBar,
    .chatBoxFooter,
    .chatBox::before,
    #optionsContainer li,
    .menuBar .popOut,
    #qpInfoHider,
    .qpVideoOverlay,
    #qpAnimeNameHider,
    .floatingWindowHeader,
    .shSongTable tr:first-child,
    #qpCounter,
    #qpAnswerInputContainer,
    #qpAnimeNameContainer,
    #qpSongInfoContainer,
    #mpRankedTimer,
    #mpRankedDescriptionButton,
    #mpNewsContainer,
    #mpNewsTitleShadowHider > div,
    #mpNewSocailTab > div,
    #mpNewsMerchTab > div,
    .swTopBarImageContainer,
    #swRightColumnLoreContainer,
    #swRightColumnBonusContainer,
    #swRightColumnAvatarBonusBar,
    #swRightColumnAvatarBonusBar::after,
    #swRightColumnTop,
    #swRightColumnAvatarChangeBackgroundButton,
    #swRightColumnAvatarToggleButton,
    #swAvatarTokenContainer,
    #swRhythmContainer,
    .swInfoPopoutContainer,
    .swInfoPopoutButton,
    .swInfoPopoutContainer::after,
    .lbmBoard,
    .boardTabContainer,
    .swal2-input,
    .mhLoadEntryNameContainer,
    #mhLoadHeader,
    #mhLoadContainer,
    .rbRoom,
    #rbFilterContainer,
    #rbSettingFilterContainer,
    .qpMultipleChoiceEntryContainer.inactive .qpMultipleChoiceEntry {
      background: @base !important;
      background-color: @base !important;
    }

    /* Background transparent elements */
    #gameChatContainer,
    .menuBar,
    .lobbyAvatarNameContainer,
    .chatBoxContainer,
    #rightMenuBarPartContainer::before,
    .qpSingleRateContainer,
    .flatTextInput,
    #qpOptionContainer,
    #qpQualityList,
    .topRightBackButton,
    #qcStickOut,
    #socailTabFooter > .selected,
    .ppPlayerLevelContainerInnser,
    .ppPlayerLevelLowerBoarder.left,
    .ppPlayerLevelLowerBoarder.right,
    .ppPlayerLevelLowerBoarder > .ppPlayerLevelBoarderLineHider,
    .ppPlayerLevelLowerBoarder > .ppPlayerLevelBoarderTopShadowHider,
    .ppImageContainer,
    .ppStatsNameContainer,
    .ppFooterText,
    .gcList > li,
    .floatingWindow,
    #asScriptWindow,
    #qpStandingContainer,
    #qpSideContainer,
    #mpAvatarDriveHeaderShadowHider > div,
    #mpAvatarDriveContainer,
    .mpHalfStatContainer,
    #mpDriveRecentHeaderShadowHider > div,
    #mpDriveRecentContainer,
    #mpDriveStandingHeaderShadowHider > div,
    #mpDriveTopTabContainer .leftRightButtonTop.selected,
    #elQuestionNoSongSelectedContainer,
    #elCounterContainer,
    #elQuestionFilter,
    .elQuestion > div,
    .elQuestionSongContainer > div,
    #elInputVideoPreviewContainer,
    #elInputStatusBar,
    #elInputContainer,
    #storeWindow,
    .swal2-popup {
      background: fade(@base, 70%) !important;
      background-color: fade(@base, 70%) !important;
      backdrop-filter: blur(2rem);
    }

    /* Username styling */
    .gcUserName {
      background: @accent;
      color: transparent;
      -webkit-background-clip: text;
      background-clip: text;
    }

    /* Rainbow effect for own username */
    .gcUserName:not(.clickAble) {
      background-image: linear-gradient(
        to left,
        rgb(0, 255, 255),
        rgb(255, 0, 255)
      );
      color: transparent;
      -webkit-background-clip: text;
      background-clip: text;
    }

    #qpAnswerInput:focus {
      outline: none !important;
    }

    /* Background-alt non-transparent elements */
    .tabContainer,
    .tab-modal .modal-header,
    .socialFooterTab,
    .swRightColumnBonusCategory,
    .swRightColumnExtraInfoOuter,
    #menuBarOptionContainer,
    .qpAvatarInfoBar {
      background: @mantle !important;
      background-color: @mantle !important;
    }

    /* Background-alt transparent elements (NO BLUR) */
    .awesomplete > ul,
    #mpDriveTopHeaderShadowHider > div,
    #elQuestionFilterInput,
    #swTicketRewardCenter,
    #swTicketAvatarLockingContainer,
    #swTicketOptionButtonContainer,
    .swAvatarTile,
    .swAvatarTileFooter,
    #swTicketRollExecuteInner,
    .lbmBoardEntry:nth-child(2n),
    .mhCustomSliderContainer,
    .filterContainer {
      background: fade(@mantle, 70%) !important;
      background-color: fade(@mantle, 70%) !important;
    }

    /* Background-alt transparent elements (WITH BLUR) */
    #footerMenuBarBackground,
    .modal-content,
    .stPlayerName,
    #gcChatMenu > div,
    #questContainer,
    .mpDriveEntry:nth-child(2n) {
      background-color: @mantle !important;
      backdrop-filter: blur(2rem);
    }

    /* Background-alt2 non-transparent elements */
    #mainMenuSocailButton,
    textarea,
    #gcChatMenu > div.selected,
    .gcInputContainer,
    .topMenuButton,
    .topMenuBar > .topMenuBack,
    .tabContainer .tab.selected::before,
    #lobbyReadyCountLoad,
    #optionsContainer li:hover,
    .qpVoteState,
    .qpVoteSkip,
    #mpDriveDonationContainer > div,
    .button,
    #swRightColumnBonusTrackEndpoint,
    #swRightColumnBonusTrackEndpoint::before,
    #swRightColumnBonusTrack,
    #swRightColumnAvatarPoseContainer,
    #swRightColumnAvatarNameContainer,
    #swResonanceProgressBarContainer,
    .mhAdvancedContainerTitle,
    .mhctRowNameContainer,
    #rbSearchInputContainer > input,
    #rbSearchContainer,
    .qpAvatarLevelOuter,
    .qpAvatarMultiChoiceIcon,
    .qpAvatarScoreContainer {
      background: @surface0 !important;
      background-color: @surface0 !important;
    }

    /* Background-color-alt2 but don't overwrite image */
    #swRightColumnAvatarImageContainer,
    #swResonanceTargetContainer,
    .rbrRoomImageContainer,
    .qpAvatarImageContainer {
      background-color: @surface0 !important;
    }

    /* Background-alt2 transparent elements */
    #xpBarOuter,
    #gcChatContent > div:nth-child(2),
    .awesomplete > ul > li:hover,
    .awesomplete > ul > li[aria-selected='true'] {
      background: fade(@surface0, 70%) !important;
      background-color: fade(@surface0, 70%) !important;
      backdrop-filter: blur(2rem);
    }
  }
}

